"use strict";exports.id=60,exports.ids=[60],exports.modules={31060:(e,t,n)=>{n.r(t),n.d(t,{startInputShims:()=>M});var o=n(60513),r=n(68343),i=n(49502),l=n(24640);let a=new WeakMap,s=(e,t,n,o=0,r=!1)=>{a.has(e)!==n&&(n?u(e,t,o,r):c(e,t))},d=e=>e===e.getRootNode().activeElement,u=(e,t,n,o=!1)=>{let r=t.parentNode,i=t.cloneNode(!1);i.classList.add("cloned-input"),i.tabIndex=-1,o&&(i.disabled=!0),r.appendChild(i),a.set(e,i);let l="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform=`translate3d(${l}px,${n}px,0) scale(0)`},c=(e,t)=>{let n=a.get(e);n&&(a.delete(e),n.remove()),e.style.pointerEvents="",t.style.transform=""},v=(e,t,n)=>{if(!n||!t)return()=>{};let o=n=>{d(t)&&s(e,t,n)},r=()=>s(e,t,!1),l=()=>o(!0),a=()=>o(!1);return(0,i.a)(n,"ionScrollStart",l),(0,i.a)(n,"ionScrollEnd",a),t.addEventListener("blur",r),()=>{(0,i.b)(n,"ionScrollStart",l),(0,i.b)(n,"ionScrollEnd",a),t.removeEventListener("blur",r)}},m="input, textarea, [no-blur], [contenteditable]",f=()=>{let e=!0,t=!1,n=document,o=()=>{t=!0},r=()=>{e=!0},l=o=>{if(t){t=!1;return}let r=n.activeElement;if(!r||r.matches(m))return;let i=o.target;i===r||i.matches(m)||i.closest(m)||(e=!1,setTimeout(()=>{e||r.blur()},50))};return(0,i.a)(n,"ionScrollStart",o),n.addEventListener("focusin",r,!0),n.addEventListener("touchend",l,!1),()=>{(0,i.b)(n,"ionScrollStart",o,!0),n.removeEventListener("focusin",r,!0),n.removeEventListener("touchend",l,!1)}},p=(e,t,n,o)=>{var r;return b((null!==(r=e.closest("ion-item,[ion-item]"))&&void 0!==r?r:e).getBoundingClientRect(),t.getBoundingClientRect(),n,o)},b=(e,t,n,o)=>{let r=e.top,i=e.bottom,l=t.top,a=Math.min(t.bottom,o-n),s=l+15,d=a-50-i,u=s-r,c=Math.min(Math.round(d<0?-d:u>0?-u:0),r-l);return{scrollAmount:c,scrollDuration:Math.min(400,Math.max(150,Math.abs(c)/.3)),scrollPadding:n,inputSafeY:-(r-s)+4}},h="$ionPaddingTimer",y=(e,t,n)=>{let o=e[h];o&&clearTimeout(o),t>0?e.style.setProperty("--keyboard-offset",`${t}px`):e[h]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),n&&n()},120)},E=(e,t,n)=>{e.addEventListener("focusout",()=>{t&&y(t,0,n)},{once:!0})},g=0,w="data-ionic-skip-scroll-assist",S=(e,t,n,r,i,a,s,d=!1)=>{let u=a&&(void 0===s||s.mode===l.a.None),c=!1,v=void 0!==o.w?o.w.innerHeight:0,m=o=>{if(!1===c){c=!0;return}x(e,t,n,r,o.detail.keyboardHeight,u,d,v,!1)},f=()=>{c=!1,null===o.w||void 0===o.w||o.w.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f,!0)},p=async()=>{if(t.hasAttribute(w)){t.removeAttribute(w);return}x(e,t,n,r,i,u,d,v),null===o.w||void 0===o.w||o.w.addEventListener("ionKeyboardDidShow",m),e.addEventListener("focusout",f,!0)};return e.addEventListener("focusin",p,!0),()=>{e.removeEventListener("focusin",p,!0),null===o.w||void 0===o.w||o.w.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f,!0)}},L=e=>{document.activeElement!==e&&(e.setAttribute(w,"true"),e.focus())},x=async(e,t,n,o,r,l,a=!1,d=0,u=!0)=>{if(!n&&!o)return;let c=p(e,n||o,r,d);if(n&&4>Math.abs(c.scrollAmount)){L(t),l&&null!==n&&(y(n,g),E(t,n,()=>g=0));return}s(e,t,!0,c.inputSafeY,a),L(t),(0,i.r)(()=>e.click()),l&&n&&y(n,g=c.scrollPadding)},M=async(e,t)=>{if(void 0===o.d)return;let n="ios"===t,a="android"===t,s=e.getNumber("keyboardHeight",290),d=e.getBoolean("scrollAssist",!0),u=e.getBoolean("hideCaretOnScroll",n),c=e.getBoolean("inputBlurring",n),m=e.getBoolean("scrollPadding",!0),p=Array.from(o.d.querySelectorAll("ion-input, ion-textarea")),b=new WeakMap,h=new WeakMap,y=await l.K.getResizeMode(),E=async e=>{await new Promise(t=>(0,i.c)(e,t));let t=e.shadowRoot||e,n=t.querySelector("input")||t.querySelector("textarea"),o=(0,r.a)(e),l=o?null:e.closest("ion-footer");if(n){if(o&&u&&!b.has(e)){let t=v(e,n,o);b.set(e,t)}if(!("date"===n.type||"datetime-local"===n.type)&&(o||l)&&d&&!h.has(e)){let t=S(e,n,o,l,s,m,y,a);h.set(e,t)}}},g=e=>{if(u){let t=b.get(e);t&&t(),b.delete(e)}if(d){let t=h.get(e);t&&t(),h.delete(e)}};for(let e of(c&&f(),p))E(e);o.d.addEventListener("ionInputDidLoad",e=>{E(e.detail)}),o.d.addEventListener("ionInputDidUnload",e=>{g(e.detail)})}}};